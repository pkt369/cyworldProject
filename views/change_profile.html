{% extends 'diaryBase.html' %}

{% block style %}
<style>
    html, body {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
}

.lately_post {
    position: absolute;
    left: 330px;
    top: 210px;
    color: rgb(0, 153, 204);
    font-weight: bold;
}

#diary_letter {
    position: absolute;
    left: 632px;
    top: 243px;
    font-size: 14px;
}

#picture_letter {
    position: absolute;
    left: 632px;
    top: 274px;
    font-size: 14px;
}

#music_letter {
    position: absolute;
    left: 632px;
    top: 303px;
    font-size: 14px;
}

#guestbook_letter {
    position: absolute;
    left: 765px;
    top: 243px;
    font-size: 14px;
}

#miniroom_letter {
    position: absolute;
    left: 330px;
    top: 350px;
    color: rgb(0, 153, 204);
    font-weight: bold;
}

#miniroom {
    position: absolute;
    left: 330px;
    top: 373px;
    width: 580px;
    height: 220px;
    border: 2px solid rgb(227, 227, 227);
}
  .img_label { 
      position: absolute; 
      left: 90px; 
      top: 200px;  
      width: 170px; 
      height: 150px;
      background-size: cover;
  }

  .profile_picture{
    overflow: hidden;
  }
  
  .profile_btn {
    position: absolute;
    left: 200px;
    top: 150px;
  }
  
  .profile_introduce { position: absolute; left: 90px; top: 350px;  width: 170px; height: 40px; word-break: keep-all; font-size: 14px;}
  
 
</style>

<script>
  //이미지 바로보여주기
  function readURL(input) {
  if (input.files && input.files[0]) {
    var reader = new FileReader();
    
    reader.onload = function(e) {
      $('#preview').attr('src', e.target.result);
    }
    
    reader.readAsDataURL(input.files[0]); 
  }
}

$(".profile_picture").change(function() {
  readURL(this);
});
</script>

{% endblock %}


{% block content %}



{% if user.email === enter.email %}
  <form action="/diary/{{user.email}}/image" method="post" enctype="multipart/form-data">
    <button type="submit" class="changeButton">수정완료</button>
    
    <label class="img_label" for="profile_picture">
      <img id="preview" src="{{user.image}}" style="width: 100%; height: 100%;">
    </label>
    <input type="file" class="profile_picture" accept="image/*" name="profile_picture"></button>

    <textarea class="profile_introduce" name="message">{{user.message}}</textarea>
  </form>     
{% endif %}




<form class="change_img_form" action="/diary/{{user.email}}/upload" method="post">
   
</form>

<hr style="position: absolute; 
            border: none; 
            height: 2px; 
            width: 200px; 
            left: 70px; 
            top: 550px; 
            color: rgb(227, 227, 227); 
            background-color:  rgb(227, 227, 227);">
            
<div class="name_letter">{{user.nick}}</div>

<div class="lately_post">최근 게시물</div>
<hr style="position: absolute; 
    border: none; 
    height: 2px; 
    width: 290px; 
    left: 327px; 
    top: 230px; 
    color: rgb(227, 227, 227); 
    background-color:  rgb(227, 227, 227);">

<hr style="position: absolute; 
    border: none; 
    height: 1px; 
    width: 280px; 
    left: 630px; 
    top: 230px;
    border-top:2px dotted rgb(227, 227, 227);">

<hr style="position: absolute; 
    border: none; 
    height: 1px; 
    width: 280px; 
    left: 630px; 
    top: 260px;
    border-top:2px dotted rgb(227, 227, 227);">

<hr style="position: absolute; 
    border: none; 
    height: 1px; 
    width: 280px; 
    left: 630px; 
    top: 290px;
    border-top:2px dotted rgb(227, 227, 227);">

<hr style="position: absolute; 
    border: none; 
    height: 1px; 
    width: 280px; 
    left: 630px; 
    top: 320px;
    border-top:2px dotted rgb(227, 227, 227);">

<div id="diary_letter">다이어리</div>
<div id="picture_letter">사진첩</div>
<div id="music_letter">음악보관함</div>
<div id="guestbook_letter">방명록</div>

<div id="miniroom_letter">미니룸</div>
<div id="miniroom"></div>
{% endblock %}


